> â€‹		ç»§æ‰¿æ˜¯ OO è¯­è¨€ä¸­ä¸€ä¸ªæœ€ä¸ºæ´¥æ´¥ä¹é“çš„æ¦‚å¿µã€‚è®¸å¤š OO è¯­è¨€éƒ½æ”¯æŒä¸¤ç§ç»§æ‰¿æ–¹å¼ï¼š**æ¥å£ç»§æ‰¿** å’Œ **å®ç°ç»§æ‰¿**ã€‚æ¥å£ç»§æ‰¿åªç»§æ‰¿æ–¹æ³•ç­¾åï¼Œè€Œå®ç°ç»§æ‰¿åˆ™ç»§æ‰¿å®é™…çš„æ–¹æ³•ã€‚ç”±äº JS ä¸­çš„å‡½æ•°æ²¡ç”¨å‰é¢ï¼Œåœ¨ ECMAScript ä¸­æ— æ³•å®ç°æ¥å£ç»§æ‰¿ã€‚ECMAScript åªæ”¯æŒå®ç°ç»§æ‰¿ï¼Œè€Œå…¶**å®ç°ç»§æ‰¿ä¸»è¦æ˜¯ä¾é åŸå‹é“¾**æ¥å®ç°çš„ã€‚
>
> â€‹																												â€”â€” ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹- P162

### æ¦‚å¿µ

â€‹		ECMAScript ä¸­æè¿°äº†**åŸå‹é“¾**çš„æ¦‚å¿µï¼Œå¹¶å°†åŸå‹é“¾ä½œä¸ºå®ç°ç»§æ‰¿çš„ä¸»è¦æ–¹æ³•ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨åŸå‹è®©ä¸€ä¸ªå¼•ç”¨ç±»å‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ã€‚

ç®€å•å›é¡¾ä¸‹æ„é€ å‡½æ•°ã€åŸå‹å’Œå®ä¾‹çš„å…³ç³»ï¼š

- æ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ª `prototype` å±æ€§æŒ‡å‘åŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆ `constructor` ï¼Œè€Œå®ä¾‹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å†…éƒ¨å±æ€§ `[[Prototype]]` ï¼ˆ`__proto__`ï¼‰ã€‚

å…·ä½“è¯·è‡³  ğŸ‘‰ [ğŸ•µï¸â€â™€ï¸ç”±åŸå‹åˆ°JSä¸­çš„â€œæ¨¡æ‹Ÿç±»â€](https://juejin.im/post/5e87404e6fb9a03c6c18fc2b)

æ¥ä¸‹æ¥è®²è§£ JavaScript å„ç§ç»§æ‰¿æ–¹å¼å’Œä¼˜ç¼ºç‚¹ï¼ˆå¸¸ç”¨ä¸ƒç§æ–¹æ¡ˆ + ES6 çš„ç±»ç»§æ‰¿ï¼‰ ğŸ‘‡ï¼š



### 1. åŸå‹é“¾ç»§æ‰¿

ç»§æ‰¿çš„æœ¬è´¨å°±æ˜¯**å¤åˆ¶**ï¼Œ**å³é‡å†™åŸå‹å¯¹è±¡ï¼Œç»™ä¹‹ä»¥ä¸€ä¸ªæ–°ç±»å‹çš„å®ä¾‹ã€‚**

```js
function Parent() {
    this.name = 'gy';
}

Parent.prototype.getName = function () {
    console.log(this.name);
}

function Child () {}

Child.prototype = new Parent();

var child = new Child();

child.getName(); // gy
```

ç¼ºç‚¹ï¼š

1. å¼•ç”¨ç±»å‹çš„å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ã€‚å¯¹äºåŒ…å«å¼•ç”¨ç±»å‹å€¼çš„å±æ€§ï¼Œå¦‚æœå®ä¾‹é‡æ–°èµ‹å€¼æ²¡ä»€ä¹ˆå½±å“ï¼Œå¤„ç†ä¸åŸºæœ¬ç±»å‹ä¸€æ ·ï¼ˆé€šè¿‡åœ¨å®ä¾‹ä¸Šæ·»åŠ åŒåå±æ€§ï¼Œéšè—åŸå‹ä¸­çš„å¯¹åº”å±æ€§å€¼ï¼‰ï¼Œå¦‚æœæ˜¯ä¿®æ”¹æ“ä½œï¼Œåˆ™ä¼šä½¿æ‰€æœ‰å®ä¾‹è·å–åˆ°çš„è¯¥å±æ€§éƒ½è¢«ä¿®æ”¹ï¼Œä¸¾ä¸ªä¾‹å­ï¼š

```js
function Parent () {
    this.names = ['hins', 'enoo'];
}

function Child () {}

Child.prototype = new Parent();

var child1 = new Child();

child1.names.push('gy');

console.log(child1.names); // ["hins", "enoo", "gy"]

var child2 = new Child();

console.log(child2.names); // ["hins", "enoo", "gy"]
```

2. åœ¨åˆ›å»º Child çš„å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘ `Parent` ä¼ å‚ã€‚



### 2. å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿

ä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»**å®ä¾‹**ï¼Œç­‰åŒäºå¤åˆ¶çˆ¶ç±»çš„å®ä¾‹ç»™å­ç±»ï¼ˆä¸ä½¿ç”¨åŸå‹ï¼‰ã€‚

```js
function Parent () {
    this.names = ['kevin', 'daisy'];
}

function Child () {
    // å€Ÿç”¨ Parent æ„é€ å‡½æ•°
    Parent.call(this);
}

var child1 = new Child();

child1.names.push('gy');

console.log(child1.names); // ["hins", "enoo", "gy"]

var child2 = new Child();

console.log(child2.names); // ["hins", "enoo"]
```

ä¼˜ç‚¹ï¼š

1. å­ç±»çš„æ¯ä¸ªå®ä¾‹éƒ½ä¼šå°†çˆ¶ç±»ä¸­çš„å±æ€§å¤åˆ¶ä¸€ä»½ï¼Œé¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«ã€‚
2. å­ç±»æ„é€ å‡½æ•°ä¸­å¯ä»¥å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ã€‚

ç¼ºç‚¹ï¼š

1. åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/ æ–¹æ³•ã€‚
2. æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ï¼Œæ— æ³•å®ç°å¤ç”¨ã€‚



### 3. ç»„åˆç»§æ‰¿

åŸå‹é“¾ç»§æ‰¿ + å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ï¼šç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œç”¨å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿æ¥å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚

```js
function Parent (name) {
    this.name = name;
    this.colors = ['red', 'blue', 'green'];
}

// åŸå‹é“¾ç»§æ‰¿
Parent.prototype.getName = function () {
    console.log(this.name)
}

function Child (name, age) {
	// å€Ÿç”¨æ„é€ å‡½æ•°
    Parent.call(this, name);
    this.age = age;

}

Child.prototype = new Parent();
// é‡å†™å­ç±»çš„ constructor å±æ€§ï¼ŒæŒ‡å‘è‡ªå·±æœ¬èº«çš„æ„é€ å‡½æ•° Child
Child.prototype.constructor = Child;

var child1 = new Child('gy', '21');

child1.colors.push('black');

console.log(child1.name); // gy
console.log(child1.age); // 21
console.log(child1.colors); // ["red", "blue", "green", "black"]

var child2 = new Child('hins', '20');

console.log(child2.name); // hins
console.log(child2.age); // 20
console.log(child2.colors); // ["red", "blue", "green"]
```

ä¼˜ç‚¹ï¼šèåˆåŸå‹é“¾ç»§æ‰¿å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿çš„ä¼˜ç‚¹ï¼Œæ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚

ç¼ºç‚¹ï¼šè°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œé€ æˆäº†ä¸å¿…è¦çš„æ¶ˆè€—ã€‚

- ä¸€æ¬¡æ˜¯è®¾ç½®å­ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™ï¼š

```js
Child.prototype = new Parent();
```

- ä¸€æ¬¡åœ¨åˆ›å»ºå­ç±»å‹å®ä¾‹çš„æ—¶å€™ï¼Œå†…éƒ¨æ‰§è¡Œ `Parent.call(this, name);` æ—¶ä¼šè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼š

```js
var child1 = new Child('gy', '21');
// åœ¨è¿™ä¸ªæ—¶å€™æ‰§è¡Œäº†
// Parent.call(this, name);
```

æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ‰“å° `child1` å¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šå‘ç° `Child.prototype` å’Œ `child1` éƒ½æœ‰ä¸€ä¸ªå±æ€§ä¸º`colors`ï¼Œå±æ€§å€¼ä¸º`['red', 'blue', 'green']`ã€‚

ä½¿ç”¨**å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿**å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯·çœ‹ä¸‹æ–‡

### 4. åŸå‹å¼ç»§æ‰¿

åœ¨ `createObj()` å‡½æ•°å†…éƒ¨, å…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶æ€§çš„æ„é€ å‡½æ•°, ç„¶åå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºè¿™ä¸ªæ„é€ å‡½æ•°çš„åŸå‹,æœ€åè¿”å›äº†è¿™ä¸ªä¸´æ—¶ç±»å‹çš„ä¸€ä¸ªæ–°å®ä¾‹ã€‚

```js
function createObj(o) {
    function F(){}
    F.prototype = o;
    return new F();
}
```

ä»æœ¬è´¨ä¸Šè®²ï¼Œ`createObj()` å¯¹ä¼ å…¥å…¶ä¸­çš„å¯¹è±¡æ‰§è¡Œäº†ä¸€æ¬¡æµ…å¤åˆ¶ï¼š

```js
var person = {
	friends : ["gy","hins"]
};
var person1 = object(person);
person1.friends.push("enoo");
var person2 = object(person);
person2.friends.push("milk");
alert(person.friends);//"gy,hins,enoo,milk"
```

ä¹Ÿå°±æ˜¯ ES5 æä¾›çš„ `Object.create` çš„æ¨¡æ‹Ÿå®ç°ï¼Œå°†ä¼ å…¥å¯¹è±¡ä½œä¸ºåˆ›å»ºçš„å¯¹è±¡çš„åŸå‹ã€‚

ç¼ºç‚¹ï¼šåŒ…å«å¼•ç”¨ç±»å‹çš„å±æ€§å€¼å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ï¼Œè¿™ç‚¹è·ŸåŸå‹é“¾ç»§æ‰¿ä¸€æ ·

```js
var person = {
    name: 'gy',
    friends: ['hins', 'enoo']
}

var person1 = createObj(person);
var person2 = createObj(person);

person1.name = 'person1';
console.log(person2.name); // gy

person1.firends.push('ray');
console.log(person2.friends); // ["hins", "enoo", "ray"]
```

æ³¨æ„ï¼šä¿®æ”¹`person1.name`çš„å€¼ï¼Œ`person2.name `çš„å€¼å¹¶æœªå‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸æ˜¯å› ä¸º `person1` å’Œ `person2` æœ‰ç‹¬ç«‹çš„ name å€¼ï¼Œè€Œæ˜¯å› ä¸º`person1.name = 'person1'`ï¼Œç»™`person1`æ·»åŠ äº† name å€¼ï¼Œå±è”½äº†åŸå‹ä¸Šçš„ç›¸åŒå±æ€§ï¼Œå¹¶éä¿®æ”¹äº†åŸå‹ä¸Šçš„ name å€¼ã€‚



### 5. å¯„ç”Ÿå¼ç»§æ‰¿

ï¼ˆåœ¨åŸå‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šï¼‰åˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§å½¢å¼æ¥å¢å¼ºå¯¹è±¡ï¼Œæœ€åè¿”å›å¯¹è±¡ã€‚

```js
function createObj (o) {
    var clone = Object.create(o);
    clone.sayName = function () {
        console.log('hi');
    }
    return clone;
}
```

ç¼ºç‚¹ï¼šè·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ï¼Œä¸èƒ½åšåˆ°å‡½æ•°å¤ç”¨è€Œé™ä½æ•ˆç‡ã€‚



### 6. å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿

ï¼ˆç»“åˆå€Ÿç”¨æ„é€ å‡½æ•°ä¼ é€’å‚æ•°å’Œå¯„ç”Ÿå¼ç»§æ‰¿å®ç°ï¼‰

åœ¨ç»„åˆç»§æ‰¿ä¸­ï¼Œä½¿ç”¨åŸå‹é“¾ç»§æ‰¿ `Child.prototype = new Parent() ` æ—¶ä¼šè°ƒç”¨ä¸€æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä»¥åŠå­ç±»å€Ÿç”¨çˆ¶ç±»æ„é€ å‡½æ•°æ—¶ï¼Œä¼šé€ æˆä¸¤æ¬¡æ„é€ å‡½æ•°çš„æµªè´¹ã€‚

æ‰€ä»¥è§£å†³æ–¹æ³•æ˜¯ä¸ä½¿ç”¨ `Child.prototype = new Parent() `ï¼Œè€Œæ˜¯é—´æ¥çš„è®© `Child.prototype` è®¿é—®åˆ° `Parent.prototype` ï¼ˆåŸå‹é“¾çš„åŸç†ï¼‰

çœ‹çœ‹å¦‚ä½•å®ç°ï¼š

```js
// çˆ¶ç±»åˆå§‹åŒ–å®ä¾‹å±æ€§å’ŒåŸå‹å±æ€§ï¼ˆæ–¹æ³•ï¼‰
function Parent (name) {
    this.name = name;
    this.colors = ['red', 'blue', 'green'];
}
Parent.prototype.getName = function () {
    console.log(this.name)
}

function Child (name, age) {
    // å€Ÿç”¨æ„é€ å‡½æ•°ä¼ é€’å¢å¼ºå­ç±»å®ä¾‹å±æ€§ï¼ˆæ”¯æŒä¼ å‚å’Œé¿å…ç¯¡æ”¹ï¼‰
    Parent.call(this, name);
    this.age = age;
}

// å…³é”®ï¼ï¼
// ä½¿ç”¨ä¸€ä¸ªä¸­é—´å‡½æ•°ï¼Œè®©å…¶çš„ prototype æŒ‡å‘ çˆ¶ç±»çš„åŸå‹
var F = function () {};
F.prototype = Parent.prototype;
// è®©å­ç±»çš„ prototype æŒ‡å‘ä¸­é—´å‡½æ•°çš„å®ä¾‹
// Child.prototype -> F çš„å®ä¾‹ -> F.prototype -> Parent.prototype
Child.prototype = new F();


var child1 = new Child('kevin', '18');

console.log(child1);
```

æœ€åæˆ‘ä»¬å°è£…ä¸€ä¸‹è¿™ä¸ªç»§æ‰¿æ–¹æ³•ï¼š

```js
function object(o) {
    function F() {}
    F.prototype = o;
    return new F();
}

function prototype(child, parent) {
    // åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºçˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬
    var prototype = object(parent.prototype);
    // å¢å¼ºå¯¹è±¡ï¼Œå¼¥è¡¥å› é‡å†™åŸå‹è€Œå¤±å»çš„é»˜è®¤çš„constructor å±æ€§
    prototype.constructor = child;
    // æŒ‡å®šå¯¹è±¡ï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»çš„åŸå‹
    child.prototype = prototype;
}

// å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ï¼š
prototype(Child, Parent);
```

å¼•ç”¨ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¸­å¯¹å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„å¤¸èµå°±æ˜¯ï¼š

è¿™ç§æ–¹å¼çš„é«˜æ•ˆç‡ä½“ç°å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡ `Parent` æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨ `Parent.prototype` ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ `instanceof` å’Œ `isPrototypeOf`ã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚

**è¿™æ˜¯æœ€æˆç†Ÿçš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç°åœ¨åº“å®ç°çš„æ–¹æ³•**



### 7. æ··å…¥æ–¹å¼ç»§æ‰¿å¤šä¸ªå¯¹è±¡

```js
function MyClass() {
     SuperClass.call(this);
     OtherSuperClass.call(this);
}

// ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»
MyClass.prototype = Object.create(SuperClass.prototype);
// æ··åˆå…¶å®ƒçˆ¶ç±»
Object.assign(MyClass.prototype, OtherSuperClass.prototype);
// é‡æ–°æŒ‡å®šconstructor
MyClass.prototype.constructor = MyClass;

MyClass.prototype.myMethod = function() {
     // do something
};
```

`Object.assign`ä¼šæŠŠ `OtherSuperClass`åŸå‹ä¸Šçš„å‡½æ•°æ‹·è´åˆ° `MyClass`åŸå‹ä¸Šï¼Œä½¿ `MyClass` çš„æ‰€æœ‰å®ä¾‹éƒ½å¯ç”¨ `OtherSuperClass` çš„æ–¹æ³•ã€‚



### 8. ES6 ç±»ç»§æ‰¿ extends

`extends` å…³é”®å­—ä¸»è¦ç”¨äºç±»å£°æ˜æˆ–ç±»è¡¨è¾¾å¼ä¸­ï¼Œä»¥åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¯¥ç±»æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ã€‚å…¶ä¸­ `constructor` è¡¨ç¤ºæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªç±»ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šæ„é€ æ–¹æ³•ï¼Œåˆ™ä¼šæ·»åŠ é»˜è®¤çš„ `constructor`ï¼Œä¾‹å­å¦‚ä¸‹ï¼š

```js
class Rectangle {
    // constructor
    constructor(height, width) {
        this.height = height;
        this.width = width;
    }
    
    // Getter
    get area() {
        return this.calcArea()
    }
    
    // Method
    calcArea() {
        return this.height * this.width;
    }
}

const rectangle = new Rectangle(10, 20);
console.log(rectangle.area);
// è¾“å‡º 200

-----------------------------------------------------------------
// ç»§æ‰¿
class Square extends Rectangle {

  constructor(length) {
    super(length, length);
    
    // å¦‚æœå­ç±»ä¸­å­˜åœ¨æ„é€ å‡½æ•°ï¼Œåˆ™éœ€è¦åœ¨ä½¿ç”¨â€œthisâ€ä¹‹å‰é¦–å…ˆè°ƒç”¨ super()ã€‚
    this.name = 'Square';
  }

}

const square = new Square(10);
console.log(square.area);
// è¾“å‡º 100
```

`extends` ç»§æ‰¿çš„æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼Œå…¶å®ç°ä¸ä¸Šè¿°çš„å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ–¹å¼ä¸€æ ·ï¼š

```js
function _inherits(subType, superType) {
  
    // åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºçˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬
    // å¢å¼ºå¯¹è±¡ï¼Œå¼¥è¡¥å› é‡å†™åŸå‹è€Œå¤±å»çš„é»˜è®¤çš„constructor å±æ€§
    // æŒ‡å®šå¯¹è±¡ï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»çš„åŸå‹
    subType.prototype = Object.create(superType && superType.prototype, {
        constructor: {
            value: subType,
            enumerable: false,
            writable: true,
            configurable: true
        }
    });
    
    if (superType) {
        Object.setPrototypeOf 
            ? Object.setPrototypeOf(subType, superType) 
            : subType.__proto__ = superType;
    }
}
```

#### æ€»ç»“

1ã€å‡½æ•°å£°æ˜å’Œç±»å£°æ˜çš„åŒºåˆ«

å‡½æ•°å£°æ˜ä¼šæå‡ï¼Œç±»å£°æ˜ä¸ä¼šã€‚é¦–å…ˆéœ€è¦å£°æ˜ä½ çš„ç±»ï¼Œç„¶åè®¿é—®å®ƒï¼Œå¦åˆ™åƒä¸‹é¢çš„ä»£ç ä¼šæŠ›å‡ºä¸€ä¸ª`ReferenceError`ã€‚

```js
let p = new Rectangle(); 
// ReferenceError

class Rectangle {}
```

2ã€ES5 ç»§æ‰¿å’ŒES6 ç»§æ‰¿çš„åŒºåˆ«

- ES5 çš„ç»§æ‰¿å®è´¨ä¸Šæ˜¯å…ˆåˆ›å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°thisä¸Šï¼ˆ`Parent.call(this)`ï¼‰.
- ES6 çš„ç»§æ‰¿æœ‰æ‰€ä¸åŒï¼Œå®è´¨ä¸Šæ˜¯å…ˆåˆ›å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹thisã€‚å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨çˆ¶ç±»çš„ `super()` æ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æŠ¥é”™ã€‚

 

### å‚è€ƒ

> [JavaScriptæ·±å…¥ä¹‹ç»§æ‰¿çš„å¤šç§æ–¹å¼å’Œä¼˜ç¼ºç‚¹](https://github.com/mqyqingfeng/Blog/issues/16#)
>
> [JavaScriptå¸¸ç”¨å…«ç§ç»§æ‰¿æ–¹æ¡ˆ](https://juejin.im/post/5bcb2e295188255c55472db0)